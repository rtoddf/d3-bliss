<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>D3</title>
		<meta name="description" content="">
		<meta name="author" content="">

		<link href="../css/lib/bootstrap.min.css" rel="stylesheet">
        <link href="../css/lib/font-awesome-4.0.3/css/font-awesome.min.css" rel="stylesheet">
        <link href="../less/base.less" rel="stylesheet/less" />

        <script src="../scripts/less-1.7.4.min.js" type="text/javascript"></script>
	</head>

	<body>
		<nav class="navbar navbar-default" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="../index.html">D3</a>
				</div>
			</div>
		</nav>
		<div class="module">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<h3>TopoJSON</h3>
						<p>TopoJSON is an extension of GeoJSON that encodes topology. Rather than representing geometries discretely, geometries in TopoJSON files are stitched together from shared line segments called arcs. This technique is similar to Matt Bloch’s MapShaper and the Arc/Info Export format, .e00. TopoJSON eliminates redundancy, allowing related geometries to be stored efficiently in the same file. For example, the shared boundary between California and Nevada is represented only once, rather than being duplicated for both states. A single TopoJSON file can contain multiple feature collections without duplication, such as states and counties. Or, a TopoJSON file can efficiently represent both polygons (for fill) and boundaries (for stroke) as two feature collections that share the same arc mesh.</p>
						<p>As a result, TopoJSON is substantially more compact than GeoJSON. The above shapefile of U.S. counties is 2.2M as a GeoJSON file, but only 436K as a boundary mesh, a reduction of 80.4% even without simplification. TopoJSON can also be more efficient to render since shared control points need only be projected once. To further reduce file size, TopoJSON uses fixed-precision delta-encoding for integer coordinates rather than floats. This eliminates the need to round the precision of coordinate values (e.g., LilJSON), without sacrificing accuracy. Like GeoJSON, TopoJSON files are easily modified in a text editor and amenable to gzip compression.</p>
						<p>Lastly, encoding topology has numerous useful applications for maps and visualization. It facilitates geometry simplification that preserves the connectedness of adjacent features; this applies even across feature collections, such as simultaneous consistent simplification of state and county boundaries. Topology can also be used for Dorling cartograms and other techniques that need shared boundary information.</p>

						<h4>Client API</h4>
						<p>The TopoJSON client API supports converting TopoJSON objects back into GeoJSON for use in a web browser. This functionality is provided by topojson.js.</p>
						<pre>&lt;script src="http://d3js.org/topojson.v1.min.js"&gt;&lt;/script&gt;</pre>
						<p>This library exposes a single topojson object; the version is available as topojson.version per semantic versioning. The TopoJSON client API supports so-called “modern” browsers, which generally means everything except IE8 and below.</p>

						<h4>topojson.feature(topology, object)</h4>
						<p>Returns the GeoJSON Feature or FeatureCollection for the specified object in the given topology. If the specified object is a GeometryCollection, a FeatureCollection is returned, and each geometry in the collection is mapped to a Feature. Otherwise, a Feature is returned.</p>
						<p>Some examples:</p>
						<ul>
							<li>A point is mapped to a feature with a geometry object of type “Point”.</li>
							<li>Likewise for line strings, polygons, and other simple geometries.</li>
							<li>A null geometry object (of type null in TopoJSON) is mapped to a feature with a null geometry object.</li>
							<li>A geometry collection of points is mapped to a feature collection of features, each with a point geometry.</li>
							<li>A geometry collection of geometry collections is mapped to a feature collection of features, each with a geometry collection.</li>
						</ul>

						<h4>topojson.mesh(topology, object, [filter])</h4>
						<p>Returns the GeoJSON MultiLineString geometry object representing the mesh for the specified object in the given topology. This is useful for rendering strokes in complicated objects efficiently, as edges that are shared by multiple features are only stroked once.</p>
						<p>An optional filter function may be specified to prune arcs from the returned mesh using the topology. The filter function is called once for each candidate arc and takes two arguments, a and b, two geometry objects that share that arc. Each arc is only included in the resulting mesh if the filter function returns true. For typical map topologies the geometries a and b are adjacent polygons and the candidate arc is their boundary. If an arc is only used by a single geometry then a and b are identical. This property is useful for separating interior and exterior boundaries; an easy way to produce a mesh of interior boundaries is:</p>
						<pre>var interiors = topojson.mesh(topology, object, function(a, b) { return a !== b; });</pre>

						<h4>topojson.neighbors(objects)</h4>
						<p>Returns an array representing the set of neighboring objects for each object in the specified objects array. The returned array has the same number of elements as the input array; each element i in the returned array is the array of indexes for neighbors of object i in the input array. For example, if the specified objects array contains the features foo and bar, and these features are neighbors, the returned array will be [​[1], [0]​], indicating that foo is a neighbor of bar and vice versa. Each array of neighbor indexes for each object is guaranteed to be sorted in ascending order.</p>
					</div>
				</div>

			</div>
		</div>
		<script src="../scripts/lib/jquery-1.10.2.min.js"></script>
        <script src="../scripts/lib/bootstrap.min.js"></script>
	</body>
</html>